# Базовая конфигурация Stage 0

- Node.js 20 (см. `.nvmrc`)
- pnpm 9
- Запуск разработки: `pnpm install` → `pnpm dev`
- Продакшен-сборка: `pnpm build` → `pnpm start`
- Тесты: `pnpm test`, `pnpm test:e2e`

## Этап 4 — защита от ошибок

- Глобальные и сегментные границы ошибок находятся в `apps/web/app/*/error.tsx`, 404-страницы — в соответствующих `not-found.tsx`.
- Проверка мок-данных выполняется через `zod`-схемы и загрузчики в `apps/web/lib/mock/loaders.ts`.
- Усиленные проверки: `pnpm verify` запускает линт, типизацию, сборку, тесты, e2e, проверку маршрутов и `vercel build --prod`.
- E2E-тесты фиксируют предупреждения консоли и негативные сценарии в `apps/web/tests/e2e/error-boundaries.spec.ts`.
- Перед пушем автоматически выполняется `pnpm verify` (см. `.husky/pre-push`).
- Расширение схем: добавляйте поля в `apps/web/lib/schemas/*.ts`, затем актуализируйте преобразования/типизацию в коде и моках.
