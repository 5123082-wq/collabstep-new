# Collabverse Stage 0

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è
- Node.js 20 (—Å–º. `.nvmrc`)
- pnpm 9

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏: `pnpm install`
2. –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è: `pnpm ensure-env`
3. –†–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: `pnpm dev` (–æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:3000/`)
4. –ü—Ä–æ–¥–∞–∫—à–µ–Ω-—Å–±–æ—Ä–∫–∞: `pnpm build && pnpm start`

> Preflight Stage 4 ‚Äî –ø—Ä–æ–π–¥–µ–Ω.

## –¢–µ—Å—Ç—ã
- –Æ–Ω–∏—Ç-—Ç–µ—Å—Ç—ã: `pnpm test`
- E2E: `pnpm test:e2e`

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
- `NAV_V1` ‚Äî —Ñ–ª–∞–≥ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ (off/on)
- `APP_LOCALE` ‚Äî –ª–æ–∫–∞–ª—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é ru)
- `FEATURE_PROJECTS_V1` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç CRM ¬´–ü—Ä–æ–µ–∫—Ç—ã v1¬ª (0/1)
- `AUTH_DEV` ‚Äî –≤–∫–ª—é—á–∞–µ—Ç dev-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é (on/off)
- `DEMO_ADMIN_EMAIL`, `DEMO_ADMIN_PASSWORD` ‚Äî —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–µ–º–æ-–∞–¥–º–∏–Ω–∞
- `DEMO_USER_EMAIL`, `DEMO_USER_PASSWORD` ‚Äî —Ä–µ–∫–≤–∏–∑–∏—Ç—ã –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `FIN_EXPENSES_STORAGE` ‚Äî –≤—ã–±–∏—Ä–∞–µ—Ç –¥—Ä–∞–π–≤–µ—Ä —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ —Ä–∞—Å—Ö–æ–¥–æ–≤ (`memory` –∏–ª–∏ `db`). –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤ dev ‚Äî `memory`, –≤ staging/prod (`NODE_ENV` –∏–ª–∏ `VERCEL_ENV`) ‚Äî `db`. –ù–∞ Vercel –∑–∞–¥–∞–π—Ç–µ `FIN_EXPENSES_STORAGE=db` –¥–ª—è –æ–∫—Ä—É–∂–µ–Ω–∏–π `staging` –∏ `production`, –∞ –≤ `preview` –æ—Å—Ç–∞–≤—å—Ç–µ `memory`, –µ—Å–ª–∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è —Ä–µ–∞–ª—å–Ω–∞—è –±–∞–∑–∞.
- `NEXT_PUBLIC_FEATURE_*` ‚Äî —Ñ–ª–∞–≥–∏ –≤—Ç–æ—Ä–æ–≥–æ –ø–æ–∫–æ–ª–µ–Ω–∏—è –¥–ª—è UI. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤–∫–ª—é—á–µ–Ω—ã `NEXT_PUBLIC_FEATURE_FINANCE_GLOBAL=1` –∏ `NEXT_PUBLIC_FEATURE_PROJECTS_OVERVIEW=1`; –æ—Å—Ç–∞–ª—å–Ω—ã–µ (`NEXT_PUBLIC_FEATURE_CREATE_WIZARD`, `NEXT_PUBLIC_FEATURE_PROJECT_DASHBOARD`, `NEXT_PUBLIC_FEATURE_TASKS_WORKSPACE`, `NEXT_PUBLIC_FEATURE_BUDGET_LIMITS`, `NEXT_PUBLIC_FEATURE_FINANCE_AUTOMATIONS`) —Å—Ç–∞—Ä—Ç—É—é—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ `0` –∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –ø–æ –º–µ—Ä–µ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏.
- (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) `SKIP_VERCEL_BUILD=1` ‚Äî –æ—Ç–∫–ª—é—á–∞–µ—Ç –ª–æ–∫–∞–ª—å–Ω—É—é —Å–∏–º—É–ª—è—Ü–∏—é `vercel build` –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Ç–æ–∫–µ–Ω–∞
- –ù–∞ Vercel —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NAV_V1=on`, `APP_LOCALE=ru`, `AUTH_DEV=on`, –¥–∞–Ω–Ω—ã–µ –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç–æ–≤ –∏ `FIN_EXPENSES_STORAGE` —Å–æ–≥–ª–∞—Å–Ω–æ –æ–∫—Ä—É–∂–µ–Ω–∏—é (`memory` –¥–ª—è `preview`, `db` –¥–ª—è `staging`/`production`).

–ü—Ä–∏–º–µ—Ä `.env`:

```
NAV_V1=on
APP_LOCALE=ru
FEATURE_PROJECTS_V1=1
AUTH_DEV=on
FIN_EXPENSES_STORAGE=memory
DEMO_ADMIN_EMAIL=admin.demo@collabverse.test
DEMO_ADMIN_PASSWORD=demo-admin
DEMO_USER_EMAIL=user.demo@collabverse.test
DEMO_USER_PASSWORD=demo-user
```

### Finance Storage

–§–ª–∞–≥ `FIN_EXPENSES_STORAGE` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ª–∏ in-memory –∏–ª–∏ DB-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–ª—è —Ä–∞—Å—Ö–æ–¥–æ–≤. –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é dev-–æ–∫—Ä—É–∂–µ–Ω–∏–µ –æ—Å—Ç–∞—ë—Ç—Å—è –Ω–∞ `memory`, –∞ staging/prod (–≤ —Ç–æ–º —á–∏—Å–ª–µ Vercel `VERCEL_ENV=staging|production`) –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –Ω–∞ `db`. –î–ª—è QA –º–æ–∂–Ω–æ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–¥–∞—Ç—å `FIN_EXPENSES_STORAGE=db`, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é —Å –±–∞–∑–æ–π, –ª–∏–±–æ –æ—Å—Ç–∞–≤–∏—Ç—å `memory`, —á—Ç–æ–±—ã –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ in-memory —Ä–µ–∂–∏–º.

–ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –≤—ã–≤–æ–¥–∏—Ç—Å—è –ª–æ–≥ `console.info` –≤–∏–¥–∞ `[ExpenseStoreFactory] selecting expense store` —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º –¥—Ä–∞–π–≤–µ—Ä–æ–º; –µ—Å–ª–∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è `db` –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã, –ø–æ—è–≤–ª—è–µ—Ç—Å—è `console.warn` –æ –≤–æ–∑–≤—Ä–∞—Ç–µ –∫ in-memory. –≠—Ç–∏ —Å–æ–æ–±—â–µ–Ω–∏—è —Å—Ç–æ–∏—Ç –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤ —Ç–µ–ª–µ–º–µ—Ç—Ä–∏–∏/–ª–æ–≥–∞—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

–ù–∞ Vercel —Å–±–æ—Ä–∫–∏ `preview` –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ `memory`, –ø–æ—ç—Ç–æ–º—É –¥–ª—è –ø—Ä–æ–≥–æ–Ω–æ–≤, —Ç—Ä–µ–±—É—é—â–∏—Ö –ë–î, –∑–∞–¥–∞–π—Ç–µ `FIN_EXPENSES_STORAGE=db` –≤—Ä—É—á–Ω—É—é (–Ω–∞–ø—Ä–∏–º–µ—Ä, —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ –∏–ª–∏ –∫–æ–º–∞–Ω–¥—É).

## Dev-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç—ã
- –ë—ã—Å—Ç—Ä—ã–π –≤—Ö–æ–¥ –¥–æ—Å—Ç—É–ø–µ–Ω –Ω–∞ `/login` –∫–Ω–æ–ø–∫–∞–º–∏ ¬´–í–æ–π—Ç–∏ –¥–µ–º–æ-–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º¬ª –∏ ¬´–í–æ–π—Ç–∏ –¥–µ–º–æ-–∞–¥–º–∏–Ω–æ–º¬ª ‚Äî –¥–∞–Ω–Ω—ã–µ –±–µ—Ä—É—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö `DEMO_*`.
- POST `/api/auth/login` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç e-mail –∏ –ø–∞—Ä–æ–ª—å –¥–µ–º–æ-–∞–∫–∫–∞—É–Ω—Ç–æ–≤, –ø—Ä–∏ –æ—à–∏–±–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–µ–∫—Å—Ç ¬´–ù–µ–≤–µ—Ä–Ω–∞—è –ø–æ—á—Ç–∞ –∏–ª–∏ –ø–∞—Ä–æ–ª—å¬ª.
- POST `/api/auth/register` (–ø—Ä–∏ `AUTH_DEV=on`) —Å–æ–∑–¥–∞—ë—Ç dev-—Å–µ—Å—Å–∏—é `role=user` –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/app/dashboard` —Å —Ç–æ—Å—Ç–æ–º ¬´–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–∞¬ª.
- POST `/api/auth/logout` –æ—á–∏—â–∞–µ—Ç cookie `cv_session` –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –Ω–∞ `/login`.
- –ó–∞—â–∏—â—ë–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã `/app/*` –∏ `/project/*` —Ç—Ä–µ–±—É—é—Ç cookie `cv_session`. –ü—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Å—Å–∏–∏ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è —Ä–µ–¥–∏—Ä–µ–∫—Ç –Ω–∞ `/login` —Å —Ç–æ—Å—Ç–æ–º ¬´–ù—É–∂–Ω–æ –≤–æ–π—Ç–∏ –≤ —Å–∏—Å—Ç–µ–º—É¬ª.
- –†–∞–∑–¥–µ–ª `/app/admin` –¥–æ—Å—Ç—É–ø–µ–Ω —Ç–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É; –Ω–µ-–∞–¥–º–∏–Ω–∞ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç –Ω–∞ `/app/dashboard` —Å —Ç–æ—Å—Ç–æ–º ¬´–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –ø—Ä–∞–≤¬ª.

## –≠—Ç–∞–ø—ã
- **–≠—Ç–∞–ø 0** ‚Äî –±–∞–∑–æ–≤—ã–π –∫–∞—Ä–∫–∞—Å –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- **–≠—Ç–∞–ø 1** ‚Äî —Ä–∞–∑–≤–∏—Ç–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Å–ª–æ–π
- **–≠—Ç–∞–ø 4** ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫ –∏ —É—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å

## Pre-5 RC: –∫–∞–∫ –ø—Ä–æ–π—Ç–∏ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω—É—é –ø—Ä–æ–≤–µ—Ä–∫—É
- –ü–æ–¥–≥–æ—Ç–æ–≤—å—Ç–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ: `pnpm install`, `cp .env.example .env`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NAV_V1=on`, `APP_LOCALE=ru` –∏ –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ñ–ª–∞–≥–∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏, —Ç—Ä–µ–±—É–µ–º—ã–µ –¥–ª—è –≥–æ—Å—Ç–µ–≤–æ–≥–æ —Å–ª–æ—è.
- –í–∫–ª—é—á–∏—Ç–µ –≥–æ—Å—Ç–µ–≤–æ–π —Å–ª–æ–π –∏ –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç—ã, –∑–∞—Ç–µ–º —É–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ, –¥–∞—à–±–æ—Ä–¥–Ω—ã–µ –∏ –ø—Ä–æ–µ–∫—Ç–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–µ –≤—ã–≤–æ–¥—è—Ç –æ—à–∏–±–æ–∫ –∏–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π –≤ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–π –∫–æ–Ω—Å–æ–ª–∏.
- –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–æ–ª–Ω—ã–π –ø—Ä–æ–≥–æ–Ω `pnpm verify`: –ª–∏–Ω—Ç–µ—Ä, –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤, —Å–±–æ—Ä–∫–∞, —é–Ω–∏—Ç- –∏ e2e-—Ç–µ—Å—Ç—ã, –∞—É–¥–∏—Ç –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ `vercel build --prod`.
- –ü–æ—Å–ª–µ `pnpm verify` –ª–æ–∫–∞–ª—å–Ω–æ –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ e2e-—Å–º–æ—É–∫ (–æ—Å–Ω–æ–≤–Ω—ã–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã, –¥–∞—à–±–æ—Ä–¥, –¥–µ–º–æ-–ø—Ä–æ–µ–∫—Ç, –ø—É–±–ª–∏—á–Ω—ã–µ –∑–∞–≥–ª—É—à–∫–∏) –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –º–µ–Ω—é –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏ –º–æ–±–∏–ª—å–Ω—ã—Ö —Ç–æ—á–∫–∞—Ö.
- –°—ã–º–∏—Ç–∏—Ä—É–π—Ç–µ 404 –∏ –æ—à–∏–±–∫—É –≤–Ω—É—Ç—Ä–∏ –≤–∫–ª–∞–¥–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞, —á—Ç–æ–±—ã –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å —Ä–∞–±–æ—Ç—É –≥—Ä–∞–Ω–∏—Ü –æ—à–∏–±–æ–∫ –∏ —Å—Ç—Ä–∞–Ω–∏—Ü `error`, `not-found`, `loading`.
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ª–æ–∫–∞–ª—å–Ω–∞—è —Å–∏–º—É–ª—è—Ü–∏—è Vercel-—Å–±–æ—Ä–∫–∏ (–ø—É—Ç—å –ø—Ä–æ–µ–∫—Ç–∞, –≤–µ—Ä—Å–∏—è Node.js 20, –ø–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä pnpm 9) –ø—Ä–æ—Ö–æ–¥–∏—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ —á—Ç–æ –≤—Å–µ –∑–∞—è–≤–ª–µ–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã –æ—Ç–¥–∞—é—Ç `200`.

- **Projects v1 (CRM —Å–∫–µ–ª–µ—Ç)**
  - –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `FEATURE_PROJECTS_V1=1` –≤ `.env` –∏–ª–∏ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è Vercel.
  - –í –±–æ–∫–æ–≤–æ–º –º–µ–Ω—é –ø–æ—è–≤–∏—Ç—Å—è –ø—É–Ω–∫—Ç ¬´–ü—Ä–æ–µ–∫—Ç—ã¬ª, –≤–µ–¥—É—â–∏–π –≤ –º–∞—Å—Ç–µ—Ä —Å–æ–∑–¥–∞–Ω–∏—è `/project/new`.
  - –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç –∏ –ø–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ –¥–∞—à–±–æ—Ä–¥ `/project/{id}`; –∏–∑ –±—ã—Å—Ç—Ä—ã—Ö —Å—Å—ã–ª–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã –∑–∞–¥–∞—á–∏.
  - –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∑–∞–¥–∞—á `/project/{id}/tasks` –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∑–∞–ø–∏—Å–∏ —á–µ—Ä–µ–∑ –º–æ–∫-API.
  - –î–ª—è e2e-–ø—Ä–æ–≥–æ–Ω–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `pnpm test:e2e` (–≤–∫–ª—é—á–∞–µ—Ç —Å–º–æ—É–∫ `projects.smoke.spec.ts`).

## –≠—Ç–∞–ø 1: —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏—è
- –ú–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Å–ª–æ–π –≤–∫–ª—é—á–∞–µ—Ç –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É, –ø—Ä–æ–¥—É–∫—Ç–æ–≤—ã–µ —Ä–∞–∑–¥–µ–ª—ã (`/product/*`), –∞—É–¥–∏—Ç–æ—Ä–∏—é, –∫–∞—Ç–∞–ª–æ–≥–∏ –ø—Ä–æ–µ–∫—Ç–æ–≤, —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç–æ–≤ –∏ –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤, —Ç–∞—Ä–∏—Ñ—ã, –±–ª–æ–≥ –∏ —Ñ–æ—Ä–º—ã –≤—Ö–æ–¥–∞/—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –î–ª—è QA –¥–æ—Å—Ç—É–ø–Ω—ã –∑–µ—Ä–∫–∞–ª—å–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã —Å –ø—Ä–µ—Ñ–∏–∫—Å–æ–º `/mkt`.
- –î–≤—É—Ö—É—Ä–æ–≤–Ω–µ–≤–æ–µ –º–µ–Ω—é: –º–µ–≥–∞–º–µ–Ω—é –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ –∏ –º–æ–±–∏–ª—å–Ω–æ–µ –º–µ–Ω—é-–∞–∫–∫–æ—Ä–¥–µ–æ–Ω. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∞ –≤ `apps/web/config/MarketingMenu.config.ts`.
- –û–±—â–∏–π layout –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü –ø–æ–¥–∫–ª—é—á–∞–µ—Ç —à–∞–ø–∫—É –∏ —Ñ—É—Ç–µ—Ä, –∞ –¥–æ–º–∞—à–Ω—è—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ —Å–µ–∫—Ü–∏–π Hero, Features, Audience –∏ CTA.
- –ß—Ç–æ–±—ã –≤–∫–ª—é—á–∏—Ç—å –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–π —Å–ª–æ–π –Ω–∞ –≥–ª–∞–≤–Ω–æ–π `/`, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ `NAV_V1=on` –≤ `.env`. –ü—Ä–∏ `NAV_V1=off` –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∑–∞–≥–ª—É—à–∫–∞ Stage 0.
- –û–±–Ω–æ–≤–ª—ë–Ω–Ω—ã–µ sitemap –∏ robots –ø–µ—Ä–µ—á–∏—Å–ª—è—é—Ç –≤—Å–µ –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–æ–≤—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã. –ü–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π –≤—ã–ø–æ–ª–Ω–∏—Ç–µ `pnpm test` –∏ `pnpm test:e2e`.

## –≠—Ç–∞–ø 4 ‚Äî –∑–∞—â–∏—Ç–∞ –æ—Ç –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–ª–µ–Ω—ã –µ–¥–∏–Ω—ã–µ `error.tsx`, `not-found.tsx` –∏ `loading.tsx` –¥–ª—è –∫–æ—Ä–Ω–µ–≤–æ–≥–æ —É—Ä–æ–≤–Ω—è, –º–∞—Ä–∫–µ—Ç–∏–Ω–≥–∞, –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏ –ø—Ä–æ–µ–∫—Ç–∞: —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—à–∏–±–∫–∏ —Å–æ–ø—Ä–æ–≤–æ–∂–¥–∞–µ—Ç—Å—è –∫–Ω–æ–ø–∫–æ–π ¬´–ü–æ–≤—Ç–æ—Ä–∏—Ç—å –ø–æ–ø—ã—Ç–∫—É¬ª, —Å—Ç—Ä–∞–Ω–∏—Ü—ã 404 –≤–µ–¥—É—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é –∏ –∫ —Å–ø–∏—Å–∫—É –ø—Ä–æ–µ–∫—Ç–æ–≤.
- –ú–æ–∫–∏ –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –≤ —Ä–∞–Ω—Ç–∞–π–º–µ —á–µ—Ä–µ–∑ `zod`: –ª–æ–∞–¥–µ—Ä—ã –∏–∑ `apps/web/lib/mock/loaders.ts` –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ –∏ –ª–æ–≥–∏—Ä—É—é—Ç –ø—Ä–æ–±–ª–µ–º—É –≤ dev-—Ä–µ–∂–∏–º–µ, –µ—Å–ª–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ JSON –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç —Å—Ö–µ–º–µ.
- –ö–æ–º–∞–Ω–¥–∞ `pnpm verify` –∑–∞–ø—É—Å–∫–∞–µ—Ç –ø–æ–ª–Ω—ã–π –ø–∞–π–ø–ª–∞–π–Ω (–ª–∏–Ω—Ç, typecheck, build, unit, e2e, –ø—Ä–æ–≤–µ—Ä–∫—É –º–∞—Ä—à—Ä—É—Ç–æ–≤ –∏ `vercel build --prod`). GitHub Actions –∏ husky `pre-push` –∏—Å–ø–æ–ª—å–∑—É—é—Ç —ç—Ç–æ—Ç –∂–µ —Å–∫—Ä–∏–ø—Ç.
- E2E-–ø–æ–∫—Ä—ã—Ç–∏–µ —É—Å–∏–ª–µ–Ω–æ: –¥–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ü–µ–Ω–∞—Ä–∏–∏ –¥–ª—è –º–µ–≥–∞–º–µ–Ω—é, 404 –∏ error-boundary, –≤ —Ç–µ—Å—Ç–∞—Ö —Ñ–∏–∫—Å–∏—Ä—É—é—Ç—Å—è `console.error`/`console.warn` –Ω–∞ –∫–ª—é—á–µ–≤—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ö.

## –ö–∞–∫ —É—Å—Ç—Ä–æ–µ–Ω–æ –º–µ–≥–∞–º–µ–Ω—é (A11y)
- –í–µ—Ä—Ö–Ω–µ—É—Ä–æ–≤–Ω–µ–≤–∞—è –∫–Ω–æ–ø–∫–∞ —Ä–∞—Å–∫—Ä—ã–≤–∞–µ—Ç –ø–∞–Ω–µ–ª—å –ø—Ä–∏ —Ñ–æ–∫—É—Å–µ, –∞ —Ç–∞–∫–∂–µ –ø–æ –∫–ª–∞–≤–∏—à–∞–º `Enter`, `Space` –∏ `ArrowDown`. –°–æ—Å—Ç–æ—è–Ω–∏–µ –æ—Ç—Ä–∞–∂–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `aria-expanded="true"|"false"` –∏ `aria-controls`.
- –ü–∞–Ω–µ–ª—å –º–µ–≥–∞–º–µ–Ω—é –∏–º–µ–µ—Ç `role="menu"`, –≤—Å–µ —Å—Å—ã–ª–∫–∏ –æ–±—ä—è–≤–ª–µ–Ω—ã –∫–∞–∫ `role="menuitem"`. –§–æ–∫—É—Å –Ω–µ –ø—Ä–æ–ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –º–µ–∂–¥—É —ç–ª–µ–º–µ–Ω—Ç–∞–º–∏ –±–ª–∞–≥–æ–¥–∞—Ä—è —Ö—ç–Ω–¥–ª–µ—Ä—É `onFocusCapture` –∏ –ø—Ä–æ–≤–µ—Ä–∫–µ `relatedTarget`.
- –ù–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –∫–ª–∞–≤–∏—à–µ `Tab` –∑–∞—Ü–∏–∫–ª–µ–Ω–∞ –≤–Ω—É—Ç—Ä–∏ –ø–∞–Ω–µ–ª–∏, `Escape` –∑–∞–∫—Ä—ã–≤–∞–µ—Ç –º–µ–Ω—é. –¢–µ—Å—Ç `menu-desktop.spec.ts` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –∏ –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ ¬´–û–±–∑–æ—Ä –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã¬ª.
## üöÄ Deploy to Vercel

To deploy:
1. Set environment vars `NAV_V1=on`, `APP_LOCALE=ru`, `FIN_EXPENSES_STORAGE` (`memory` for preview demos, `db` for staging/production)
2. Build command: `pnpm vercel-build`
3. Node 20, pnpm 9
